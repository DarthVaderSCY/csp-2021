# 16. Data Privacy
## ZKP: Zero-Knowledge Proof
Problem: Aliceæƒ³å‘Bobè¯æ˜å¥¹has the answer A of the problem Pï¼Œå¦‚æœç›´æ¥å‘é€Aï¼Œåˆ™Bobä¹ŸçŸ¥é“äº†A

Zero-Knowledge Proof: 
- Completeness: Alice can construct the proof if she has A
- Soundness: Alice cannot construct the proof if she doesnâ€™t have A
- Zeroknowledge: Bob knows nothing about A

Interactive Zero-Knowledge Proof: P has answer ğ’™ of a problem ğ‘³, and tries to prove it with > 1 iterations:
- Step-1: P transfers ğ‘³ to ğ‘³â€², and promises that ğ‘³â€² is transferred from ğ‘³ and she has the answer ğ’™â€²  
- Step-2: V challenges P
- Step-3: P shows the proof of the answer ğ’™â€², which will not leak ğ’™
- V trusts that P has ğ’™ when P always meets the challenge

å›¾çš„åŒæ„ï¼šIf G1 = (V1, E1) and G2 = (V2, E2) are isomorphic, there exist a bijection functionï¼ˆåŒå°„ï¼Œå³ä¸€ä¸€å¯¹åº”å‡½æ•°ï¼‰ ğ“, that for any (ğ’–, ğ’—)âˆˆğ‘¬_ğŸ, exist ğ“(ğ’–, ğ’—)  âˆˆğ‘¬_ğŸï¼Œå³ä¸¤å¼ å›¾çš„æ¯æ¡è¾¹éƒ½ä¸€ä¸€å¯¹åº”
- åŸºäºå›¾åŒæ„çš„Interactive ZKP
    - Aliceç”Ÿæˆä¸€ä¸ªä¸ä¸¤å¼ å›¾éƒ½åŒæ„çš„æ–°å›¾ï¼Œåå¤è¯¢é—®è¿­ä»£
    - <div > <img src="images/ZKP.png" width = 100%/> </div>
- Non-Interactive ZKP
    - æœ‰ä¸€ä¸ªå¯ä¿¡çš„ç¬¬ä¸‰æ–¹ç”Ÿæˆéšæœºåºåˆ—ï¼Œè®©Aliceä¸€æ¬¡æ€§è¯æ˜
    - <div > <img src="images/ZKP2.png" width = 100%/> </div>

## OP: Oblivious Transfer ä¸ç»æ„ä¼ è¾“
Problem: senderä¸æƒ³è®©receiveræ‹¿åˆ°æ‰€æœ‰æ•°æ®ï¼Œreceiverä¸æƒ³è®©senderçŸ¥é“è‡ªå·±æƒ³è¦å“ªä¸ªæ•°æ®

1-out-of-2 OT: 
- <div > <img src="images/OT.png" width = 100%/> </div>
- BobæŠŠè‡ªå·±çš„keyç”¨Aliceçš„å…¬é’¥åŠ å¯†ï¼Œå¹¶ä¸$r_i$ä½œå¼‚æˆ–
- Aliceåˆ†åˆ«ç”¨ä¸¤ä¸ªè§£å¯†ç»“æœåŠ å¯†å¥¹çš„ä¸¤ä»½æ¶ˆæ¯ï¼Œå°†åŠ å¯†ç»“æœé€ç»™Bobï¼ˆåªæœ‰Bobé€‰æ‹©çš„iæ‰èƒ½è§£å¯†å‡ºBobçš„keyï¼Œä¸”Aliceä¸çŸ¥é“Bobé€‰æ‹©äº†å“ªä¸ªï¼‰ 
- Bobç”¨kè§£å¯†ä¸¤ä»½å¯†æ–‡ï¼Œå¾—åˆ°éœ€è¦çš„æ¶ˆæ¯ï¼Œè€Œå¦ä¸€ä»½æ— æ³•è§£å¯†

## HE: Homomorphic Encryption åŒæ€åŠ å¯†
Problem: æƒ³æŠŠæ•°æ®æ”¾åœ¨äº‘ç«¯è®¡ç®—ï¼Œä½†æƒ³åŠ å¯†

Solution: å¯†æ–‡å¯ä»¥ç›´æ¥è¿ç®—ï¼Œè¿”å›ç»“æœåç”¨æˆ·è§£å¯†å³å¯ã€‚ä½†ç›®å‰ç®—æ³•éš¾ä»¥æ”¯æŒæ‰€æœ‰å¯†æ–‡è¿ç®—ï¼Œä¾‹å¦‚RSAåªæ”¯æŒä¹˜æ³•

## SMPC: Secure Multi-Party Computing
Problem: å¤šæ–¹æ‹¥æœ‰ä¸åŒæ•°æ®ï¼Œæƒ³ç”¨è¿™äº›æ•°æ®å…±åŒè®¡ç®—è€Œåˆä¸å°†æ•°æ®æ³„éœ²ç»™å…¶ä»–æ–¹

Yao's Protocol: GC(Garbled Circuits)+OT(Oblivious Transfer), å§šæœŸæ™ºçš„æ··æ·†ç”µè·¯+ä¸ç»æ„ä¼ è¾“ç®—æ³•

## TEE: Trusted Execution Environmnet
- Software TEE
    - VM-based TEE
    - Same privilege protection
- ARM TrustZone
- Intel SGX
- AMD SME/SEV
- Penglai, SANCTUM


## DP: Differential privacy å·®åˆ†éšç§
Problem: æƒ³è¦æ‹’ç»ç”¨æˆ·è®¿é—®æ•°æ®åº“å•ä¸ªæ¡ç›®ï¼Œä½†ä¸èƒ½ç®€å•é™åˆ¶ï¼Œå¦åˆ™å¯ä»¥é€šè¿‡sum(*) - sum(where != xx)åæ¨å‡º

Solution: ï¼ˆè‹¥ä¸¤ä¸ªæ•°æ®é›†æœ‰ä¸”ä»…æœ‰ä¸€æ¡æ•°æ®ä¸ä¸€æ ·ï¼Œåˆ™ç§°æ­¤äºŒè€…ä¸ºç›¸é‚»æ•°æ®é›†ï¼‰å¦‚æœæŸç®—æ³•ä½œç”¨äºä»»ä½•ç›¸é‚»æ•°æ®é›†ï¼Œå¾—åˆ°ä¸€ä¸ªç‰¹å®šè¾“å‡ºçš„æ¦‚ç‡åº”å·®ä¸å¤šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¯´è¿™ä¸ªç®—æ³•èƒ½è¾¾åˆ°å·®åˆ†éšç§çš„æ•ˆæœã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè§‚å¯Ÿè€…é€šè¿‡è§‚å¯Ÿè¾“å‡ºç»“æœå¾ˆéš¾å¯Ÿè§‰å‡ºæ•°æ®é›†ä¸€ç‚¹å¾®å°çš„å˜åŒ–ï¼Œä»è€Œè¾¾åˆ°ä¿æŠ¤éšç§çš„ç›®çš„ã€‚å·®åˆ†åº¦è¶Šä½ï¼Œå®‰å…¨æ€§è¶Šé«˜ã€‚
- å®ç°æ–¹å¼ï¼šå‘è®¡ç®—å‡½æ•°ä¸­åŠ å™ªå£°

## FL: Federated Learning è”é‚¦å­¦ä¹ 
Problem: å¤šæ–¹è®­ç»ƒåŒä¸€ä¸ªæ¨¡å‹ï¼Œéœ€è¦ä¿è¯å„æ–¹æ•°æ®éšç§


- æ¨ªå‘ï¼šä¸€æ–¹æ‹¥æœ‰ä¸€ä¸ªæ ·æœ¬çš„å…¨éƒ¨æ•°æ®
    - æœåŠ¡å™¨åˆ†å‘å­æ¨¡å‹ç»™æ¯ä¸ªç”¨æˆ·ï¼Œç”¨æˆ·æäº¤updateï¼Œä¼šæ³„éœ²ä¸ªäººéšç§
    - ç”¨æˆ·å‘updateä¸­æ·»åŠ å™ªå£°ï¼Œå¹¶ä¿è¯æ€»ä½“å¯¹ç§°ï¼Œç›¸äº’æŠµæ¶ˆï¼Œä¸å½±å“æ€»æ¨¡å‹æ›´æ–°
    - å¦‚æœæœ‰ç”¨æˆ·æ‰çº¿ï¼ŒæœåŠ¡å™¨å¿…é¡»å‘å…¶ä»–ç”¨æˆ·è¯¢é—®è¯¥ç”¨æˆ·çš„å™ªå£°åç§»é‡ï¼›åˆ™æœåŠ¡å™¨å¯ä»¥ä¼ªé€ ç”¨æˆ·æ‰çº¿ï¼Œé€šè¿‡è¯¢é—®è®¡ç®—å‡ºè¯¥ç”¨æˆ·åŸæœ¬çš„update
    - Secret Sharing & Double Maskingç®—æ³•
        - Share a secret S among N nodes, T nodes can reconstruct the secretï¼ŒåŸºäºkæ¬¡å‡½æ•°æ–¹ç¨‹æ±‚è§£éœ€è¦kä»¥ä¸Šä¸ªç‚¹çš„åŸç†
        - Each user u generates $a_u$ and $S_{u,v}$ (for each user pair (u,v))
        - Each user u updates $y_u$ï¼Œæ˜¯å…³äºaå’ŒSçš„å‡½æ•°
        - Serverè®¡ç®—$\sum y_i$
            - For online node u, server asks other nodes to get the secret share of the $a_u$
            - For offline node u, server asks other nodes to get the secret share of the $S_{u,i}$
            - æ‰€æœ‰èŠ‚ç‚¹é˜²æ­¢serveråŒæ—¶å¾—åˆ°$a_u$ and $S_{u,i}$

- çºµå‘ï¼šæ¯ä¸€æ–¹æ‹¥æœ‰åŒä¸€ä¸ªæ ·æœ¬çš„éƒ¨åˆ†æ•°æ®
    - æ¯æ–¹åˆ†åˆ«å•ç‹¬è®­ç»ƒï¼Œåœ¨å…¨è¿æ¥å±‚æ±‡æ€»ï¼Œç”±æœ‰labelçš„ä¸€æ–¹ç®—å‡ºæœ€ç»ˆæ¨¡å‹

åé¢ä»‹ç»äº†3ç¯‡è®ºæ–‡ï¼Œæ˜¯å¯¹ä»¥ä¸ŠæŠ€æœ¯çš„å…·ä½“åº”ç”¨
- Oblivious Multi-Party Machine Learning on Trusted Processors (Securityâ€™2016)
- BatchCrypt: Efficient Homomorphic Encryption for Cross-Silo Federated Learning (ATCâ€™20)
- Privacy Accounting and Quality Control in the Sage Differentially Private ML Platform (SOSPâ€™19)
